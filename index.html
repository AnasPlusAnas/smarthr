<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart HR System - Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#5D5CDE',
                        secondary: '#6366F1',
                        success: '#10B981',
                        warning: '#F59E0B',
                        danger: '#EF4444',
                        info: '#3B82F6',
                        dark: {
                            bg: '#181818',
                            card: '#222222',
                            sidebar: '#1F1F1F',
                            text: '#E5E7EB'
                        }
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    }
                }
            }
        }

        // Check for dark mode preference
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        
        // Listen for changes in color scheme preference
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
        
        .scrollbar-thin::-webkit-scrollbar {
            width: 5px;
        }
        
        .scrollbar-thin::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.1);
        }
        
        .scrollbar-thin::-webkit-scrollbar-thumb {
            background: rgba(0, 0, 0, 0.2);
        }
        
        .dark .scrollbar-thin::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .dark .scrollbar-thin::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
        }
        
        /* Chat bubble styles */
        .chat-bubble-user {
            border-radius: 18px 18px 0 18px;
        }
        
        .chat-bubble-bot {
            border-radius: 18px 18px 18px 0;
        }
        
        /* Progress ring styles */
        .progress-ring {
            transform: rotate(-90deg);
        }
        
        .typing-animation span {
            animation: typingDot 1.4s infinite ease-in-out both;
        }
        
        .typing-animation span:nth-child(1) {
            animation-delay: 0s;
        }
        
        .typing-animation span:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-animation span:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes typingDot {
            0%, 100% {
                transform: translateY(0);
                opacity: 0.5;
            }
            50% {
                transform: translateY(-4px);
                opacity: 1;
            }
        }
    </style>
</head>
<body class="bg-gray-50 dark:bg-dark-bg text-gray-800 dark:text-dark-text min-h-screen">
    <div class="flex h-screen overflow-hidden">
        <!-- Sidebar -->
        <aside class="hidden md:flex md:flex-col w-64 bg-white dark:bg-dark-sidebar border-r border-gray-200 dark:border-gray-700">
            <!-- Logo -->
            <div class="h-16 flex items-center px-6 border-b border-gray-200 dark:border-gray-700">
                <div class="flex items-center space-x-2">
                    <i class="fas fa-cubes text-primary text-2xl"></i>
                    <span class="font-bold text-xl">SmartHR</span>
                </div>
            </div>
            
            <!-- User info -->
            <div class="p-4 border-b border-gray-200 dark:border-gray-700">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-primary text-white rounded-full flex items-center justify-center">
                        <span class="font-medium text-lg">JS</span>
                    </div>
                    <div>
                        <p class="font-medium">John Smith</p>
                        <p class="text-sm text-gray-500 dark:text-gray-400">Marketing Team</p>
                    </div>
                </div>
            </div>
            
            <!-- Navigation -->
            <nav class="flex-1 overflow-y-auto scrollbar-thin p-4">
                <ul class="space-y-1">
                    <li>
                        <button class="w-full flex items-center space-x-3 px-3 py-2 rounded-lg bg-primary bg-opacity-10 dark:bg-opacity-20 text-primary font-medium">
                            <i class="fas fa-tachometer-alt"></i>
                            <span>Dashboard</span>
                        </button>
                    </li>
                    <li>
                        <button class="w-full flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-opacity-10 text-gray-700 dark:text-gray-300">
                            <i class="fas fa-chart-line"></i>
                            <span>Performance</span>
                        </button>
                    </li>
                    <li>
                        <button class="w-full flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-opacity-10 text-gray-700 dark:text-gray-300">
                            <i class="fas fa-graduation-cap"></i>
                            <span>Development</span>
                        </button>
                    </li>
                    <li>
                        <button class="w-full flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-opacity-10 text-gray-700 dark:text-gray-300">
                            <i class="fas fa-heart"></i>
                            <span>Wellness</span>
                        </button>
                    </li>
                    <li>
                        <button class="w-full flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-opacity-10 text-gray-700 dark:text-gray-300">
                            <i class="fas fa-users"></i>
                            <span>Team</span>
                        </button>
                    </li>
                    <li>
                        <button class="w-full flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-opacity-10 text-gray-700 dark:text-gray-300">
                            <i class="fas fa-calendar-alt"></i>
                            <span>Schedule</span>
                        </button>
                    </li>
                    <li>
                        <button class="w-full flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-opacity-10 text-gray-700 dark:text-gray-300">
                            <i class="fas fa-cog"></i>
                            <span>Settings</span>
                        </button>
                    </li>
                </ul>
                
                <hr class="my-6 border-gray-200 dark:border-gray-700">
                
                <div class="space-y-4">
                    <p class="text-xs uppercase text-gray-500 dark:text-gray-400 font-medium">Support</p>
                    <button id="openSupportChatBtn" class="w-full flex items-center justify-between px-3 py-2 bg-primary text-white rounded-lg font-medium">
                        <span>Get Help</span>
                        <i class="fas fa-headset"></i>
                    </button>
                    <div class="text-xs text-gray-500 dark:text-gray-400">
                        <p>Need assistance?</p>
                        <p>24/7 AI support available</p>
                    </div>
                </div>
            </nav>
        </aside>
        
        <!-- Mobile Sidebar Toggle -->
        <div class="md:hidden absolute top-4 left-4 z-50">
            <button id="mobileSidebarToggle" class="w-10 h-10 bg-white dark:bg-dark-card rounded-full shadow-md flex items-center justify-center text-gray-700 dark:text-gray-300">
                <i class="fas fa-bars"></i>
            </button>
        </div>
        
        <!-- Mobile Sidebar -->
        <div id="mobileSidebar" class="fixed inset-0 z-40 hidden">
            <div class="absolute inset-0 bg-black bg-opacity-50" id="mobileSidebarBackdrop"></div>
            <div class="absolute inset-y-0 left-0 w-64 bg-white dark:bg-dark-sidebar transform transition-transform duration-300 ease-in-out -translate-x-full" id="mobileSidebarContent">
                <!-- Mobile sidebar content (duplicate of desktop sidebar) -->
                <!-- Logo -->
                <div class="h-16 flex items-center px-6 border-b border-gray-200 dark:border-gray-700">
                    <div class="flex items-center space-x-2">
                        <i class="fas fa-cubes text-primary text-2xl"></i>
                        <span class="font-bold text-xl">SmartHR</span>
                    </div>
                </div>
                
                <!-- User info -->
                <div class="p-4 border-b border-gray-200 dark:border-gray-700">
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 bg-primary text-white rounded-full flex items-center justify-center">
                            <span class="font-medium text-lg">JS</span>
                        </div>
                        <div>
                            <p class="font-medium">John Smith</p>
                            <p class="text-sm text-gray-500 dark:text-gray-400">Marketing Team</p>
                        </div>
                    </div>
                </div>
                
                <!-- Navigation -->
                <nav class="flex-1 overflow-y-auto scrollbar-thin p-4">
                    <ul class="space-y-1">
                        <li>
                            <button class="w-full flex items-center space-x-3 px-3 py-2 rounded-lg bg-primary bg-opacity-10 dark:bg-opacity-20 text-primary font-medium">
                                <i class="fas fa-tachometer-alt"></i>
                                <span>Dashboard</span>
                            </button>
                        </li>
                        <li>
                            <button class="w-full flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-opacity-10 text-gray-700 dark:text-gray-300">
                                <i class="fas fa-chart-line"></i>
                                <span>Performance</span>
                            </button>
                        </li>
                        <li>
                            <button class="w-full flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-opacity-10 text-gray-700 dark:text-gray-300">
                                <i class="fas fa-graduation-cap"></i>
                                <span>Development</span>
                            </button>
                        </li>
                        <li>
                            <button class="w-full flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-opacity-10 text-gray-700 dark:text-gray-300">
                                <i class="fas fa-heart"></i>
                                <span>Wellness</span>
                            </button>
                        </li>
                        <li>
                            <button class="w-full flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-opacity-10 text-gray-700 dark:text-gray-300">
                                <i class="fas fa-users"></i>
                                <span>Team</span>
                            </button>
                        </li>
                        <li>
                            <button class="w-full flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-opacity-10 text-gray-700 dark:text-gray-300">
                                <i class="fas fa-calendar-alt"></i>
                                <span>Schedule</span>
                            </button>
                        </li>
                        <li>
                            <button class="w-full flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-opacity-10 text-gray-700 dark:text-gray-300">
                                <i class="fas fa-cog"></i>
                                <span>Settings</span>
                            </button>
                        </li>
                    </ul>
                    
                    <hr class="my-6 border-gray-200 dark:border-gray-700">
                    
                    <div class="space-y-4">
                        <p class="text-xs uppercase text-gray-500 dark:text-gray-400 font-medium">Support</p>
                        <button id="openMobileSupportChatBtn" class="w-full flex items-center justify-between px-3 py-2 bg-primary text-white rounded-lg font-medium">
                            <span>Get Help</span>
                            <i class="fas fa-headset"></i>
                        </button>
                        <div class="text-xs text-gray-500 dark:text-gray-400">
                            <p>Need assistance?</p>
                            <p>24/7 AI support available</p>
                        </div>
                    </div>
                </nav>
            </div>
        </div>
        
        <!-- Main Content -->
        <main class="flex-1 flex flex-col overflow-hidden">
            <!-- Top Navbar -->
            <header class="h-16 flex items-center justify-between px-4 sm:px-6 lg:px-8 bg-white dark:bg-dark-sidebar border-b border-gray-200 dark:border-gray-700">
                <div class="md:hidden w-10"></div>
                <div class="flex-1 flex items-center justify-end space-x-4">
                    <div class="relative">
                        <button id="notificationsBtn" class="w-10 h-10 rounded-full flex items-center justify-center text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800">
                            <i class="fas fa-bell"></i>
                        </button>
                        <span class="absolute top-2 right-2 w-2 h-2 bg-primary rounded-full"></span>
                    </div>
                    <div>
                        <button id="darkModeToggle" class="w-10 h-10 rounded-full flex items-center justify-center text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800">
                            <i class="fas fa-moon dark:hidden"></i>
                            <i class="fas fa-sun hidden dark:block"></i>
                        </button>
                    </div>
                </div>
            </header>
            
            <!-- Content Area -->
            <div class="flex-1 overflow-auto p-4 sm:p-6 lg:p-8">
                <div class="mb-8">
                    <h1 class="text-2xl font-bold mb-2">Welcome back, John!</h1>
                    <p class="text-gray-600 dark:text-gray-400">Here's what's happening today.</p>
                </div>
                
                <!-- Quick Stats -->
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
                    <!-- Goal Progress -->
                    <div class="bg-white dark:bg-dark-card rounded-xl shadow-sm p-4">
                        <div class="flex items-center justify-between mb-2">
                            <h3 class="font-medium">Goal Progress</h3>
                            <i class="fas fa-bullseye text-primary"></i>
                        </div>
                        <div class="flex items-center space-x-4">
                            <div class="relative h-16 w-16">
                                <svg class="progress-ring" width="64" height="64">
                                    <circle class="text-gray-200 dark:text-gray-700" stroke-width="6" stroke="currentColor" fill="transparent" r="26" cx="32" cy="32"/>
                                    <circle class="text-primary" stroke-width="6" stroke="currentColor" fill="transparent" r="26" cx="32" cy="32" stroke-dasharray="163" stroke-dashoffset="41"/>
                                </svg>
                                <div class="absolute top-0 left-0 h-full w-full flex items-center justify-center text-sm font-medium">75%</div>
                            </div>
                            <div>
                                <p class="text-xl font-semibold">3/4</p>
                                <p class="text-sm text-gray-600 dark:text-gray-400">Q3 Goals Met</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Wellness Score -->
                    <div class="bg-white dark:bg-dark-card rounded-xl shadow-sm p-4">
                        <div class="flex items-center justify-between mb-2">
                            <h3 class="font-medium">Wellness Score</h3>
                            <i class="fas fa-heart text-danger"></i>
                        </div>
                        <div class="flex items-center space-x-4">
                            <div class="relative h-16 w-16">
                                <svg class="progress-ring" width="64" height="64">
                                    <circle class="text-gray-200 dark:text-gray-700" stroke-width="6" stroke="currentColor" fill="transparent" r="26" cx="32" cy="32"/>
                                    <circle class="text-danger" stroke-width="6" stroke="currentColor" fill="transparent" r="26" cx="32" cy="32" stroke-dasharray="163" stroke-dashoffset="65"/>
                                </svg>
                                <div class="absolute top-0 left-0 h-full w-full flex items-center justify-center text-sm font-medium">60%</div>
                            </div>
                            <div>
                                <div class="flex items-center space-x-1">
                                    <p class="text-xl font-semibold">85</p>
                                    <span class="text-success text-sm"><i class="fas fa-arrow-up"></i> 5</span>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-400">This week</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Recognition -->
                    <div class="bg-white dark:bg-dark-card rounded-xl shadow-sm p-4">
                        <div class="flex items-center justify-between mb-2">
                            <h3 class="font-medium">Recognition</h3>
                            <i class="fas fa-award text-warning"></i>
                        </div>
                        <div class="flex items-center space-x-4">
                            <div class="h-16 w-16 bg-warning bg-opacity-10 rounded-full flex items-center justify-center text-warning text-2xl">
                                <i class="fas fa-star"></i>
                            </div>
                            <div>
                                <p class="text-xl font-semibold">8</p>
                                <p class="text-sm text-gray-600 dark:text-gray-400">Kudos received</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Training -->
                    <div class="bg-white dark:bg-dark-card rounded-xl shadow-sm p-4">
                        <div class="flex items-center justify-between mb-2">
                            <h3 class="font-medium">Training</h3>
                            <i class="fas fa-graduation-cap text-info"></i>
                        </div>
                        <div class="flex items-center space-x-4">
                            <div class="h-16 w-16 bg-info bg-opacity-10 rounded-full flex items-center justify-center text-info text-2xl">
                                <i class="fas fa-book"></i>
                            </div>
                            <div>
                                <p class="text-xl font-semibold">2</p>
                                <p class="text-sm text-gray-600 dark:text-gray-400">Courses in progress</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Main Sections -->
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- Goal Review -->
                    <div class="lg:col-span-2 bg-white dark:bg-dark-card rounded-xl shadow-sm p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-xl font-bold">SMART Goal Analysis</h2>
                            <button id="newGoalBtn" class="text-primary hover:underline text-sm font-medium flex items-center">
                                <i class="fas fa-plus mr-1"></i> Add New Goal
                            </button>
                        </div>
                        
                        <div class="mb-6">
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                                Enter your goal for analysis
                            </label>
                            <textarea id="goalInput" rows="3" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-base bg-white dark:bg-dark-card text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary" placeholder="e.g., Improve team collaboration"></textarea>
                        </div>
                        
                        <div class="flex justify-end mb-6">
                            <button id="analyzeGoalBtn" class="bg-primary hover:bg-secondary text-white px-4 py-2 rounded-lg transition-colors">
                                Analyze Goal
                            </button>
                        </div>
                        
                        <div id="goalAnalysisResult" class="hidden">
                            <div class="bg-gray-50 dark:bg-gray-800 rounded-lg p-4 mb-4">
                                <h3 class="font-bold mb-2">Your Goal Analysis</h3>
                                <div id="goalAnalysisContent" class="prose dark:prose-invert max-w-none">
                                    <!-- Analysis results will appear here -->
                                </div>
                            </div>
                        </div>
                        
                        <h3 class="font-bold mb-2">Recent Goals</h3>
                        <div class="space-y-4">
                            <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4">
                                <div class="flex justify-between mb-2">
                                    <h4 class="font-medium">Complete digital marketing certification</h4>
                                    <span class="text-sm text-success bg-success bg-opacity-10 px-2 py-1 rounded-full">On Track</span>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">Complete the Google Digital Marketing certification by November 30th to enhance social media campaign skills.</p>
                                <div class="flex justify-between items-center">
                                    <div class="flex items-center text-sm text-gray-500 dark:text-gray-400">
                                        <i class="fas fa-calendar-alt mr-1"></i> Due Nov 30
                                    </div>
                                    <div class="w-24 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden">
                                        <div class="h-full bg-success rounded-full" style="width: 70%"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4">
                                <div class="flex justify-between mb-2">
                                    <h4 class="font-medium">Increase email open rates by 15%</h4>
                                    <span class="text-sm text-warning bg-warning bg-opacity-10 px-2 py-1 rounded-full">At Risk</span>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">Implement A/B testing strategies to improve email campaign open rates from 22% to 37% by Q4.</p>
                                <div class="flex justify-between items-center">
                                    <div class="flex items-center text-sm text-gray-500 dark:text-gray-400">
                                        <i class="fas fa-calendar-alt mr-1"></i> Due Dec 31
                                    </div>
                                    <div class="w-24 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden">
                                        <div class="h-full bg-warning rounded-full" style="width: 30%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Wellness Section -->
                    <div class="bg-white dark:bg-dark-card rounded-xl shadow-sm p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-xl font-bold">Wellness & Mental Health</h2>
                            <button class="text-primary hover:underline text-sm font-medium">View All</button>
                        </div>
                        
                        <div class="space-y-6">
                            <div class="text-center p-4 bg-primary bg-opacity-5 dark:bg-opacity-20 rounded-lg">
                                <i class="fas fa-heart text-3xl text-danger mb-2"></i>
                                <h3 class="font-medium mb-1">Daily Wellness Check</h3>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">How are you feeling today?</p>
                                <div class="flex justify-center space-x-3">
                                    <button class="p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full">
                                        <span class="text-xl">😔</span>
                                    </button>
                                    <button class="p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full">
                                        <span class="text-xl">😐</span>
                                    </button>
                                    <button class="p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full">
                                        <span class="text-xl">🙂</span>
                                    </button>
                                    <button class="p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full">
                                        <span class="text-xl">😄</span>
                                    </button>
                                </div>
                            </div>
                            
                            <div>
                                <h3 class="font-medium mb-3">Upcoming Wellness Activities</h3>
                                <div class="space-y-3">
                                    <div class="flex items-center p-3 border border-gray-200 dark:border-gray-700 rounded-lg">
                                        <div class="w-10 h-10 bg-success bg-opacity-10 rounded-full flex items-center justify-center text-success mr-3">
                                            <i class="fas fa-meditation"></i>
                                        </div>
                                        <div>
                                            <p class="font-medium">Mindfulness Session</p>
                                            <p class="text-xs text-gray-500 dark:text-gray-400">Tomorrow, 12:00 PM</p>
                                        </div>
                                    </div>
                                    
                                    <div class="flex items-center p-3 border border-gray-200 dark:border-gray-700 rounded-lg">
                                        <div class="w-10 h-10 bg-warning bg-opacity-10 rounded-full flex items-center justify-center text-warning mr-3">
                                            <i class="fas fa-running"></i>
                                        </div>
                                        <div>
                                            <p class="font-medium">Team Fitness Challenge</p>
                                            <p class="text-xs text-gray-500 dark:text-gray-400">Starts in 3 days</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div>
                                <h3 class="font-medium mb-3">Mental Health Resources</h3>
                                <div class="space-y-3">
                                    <a href="#" class="block p-3 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800">
                                        <div class="flex items-center">
                                            <div class="w-10 h-10 bg-info bg-opacity-10 rounded-full flex items-center justify-center text-info mr-3">
                                                <i class="fas fa-book"></i>
                                            </div>
                                            <div>
                                                <p class="font-medium">Stress Management Guide</p>
                                                <p class="text-xs text-gray-500 dark:text-gray-400">5 min read</p>
                                            </div>
                                        </div>
                                    </a>
                                    
                                    <a href="#" class="block p-3 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800">
                                        <div class="flex items-center">
                                            <div class="w-10 h-10 bg-primary bg-opacity-10 rounded-full flex items-center justify-center text-primary mr-3">
                                                <i class="fas fa-phone-alt"></i>
                                            </div>
                                            <div>
                                                <p class="font-medium">Employee Assistance Program</p>
                                                <p class="text-xs text-gray-500 dark:text-gray-400">Confidential support</p>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        
        <!-- Support Chatbot -->
        <div id="supportChatContainer" class="fixed bottom-0 right-0 z-50 w-full sm:w-96 hidden">
            <div class="m-4 bg-white dark:bg-dark-card rounded-lg shadow-xl overflow-hidden flex flex-col" style="height: 480px;">
                <div class="p-4 bg-primary text-white flex items-center justify-between">
                    <div class="flex items-center">
                        <i class="fas fa-robot mr-2"></i>
                        <h3 class="font-medium">SmartHR Assistant</h3>
                    </div>
                    <div class="flex space-x-2">
                        <button id="switchToEmployerChat" class="text-white hover:text-gray-200">
                            <i class="fas fa-exchange-alt"></i>
                        </button>
                        <button id="minimizeChatBtn" class="text-white hover:text-gray-200">
                            <i class="fas fa-minus"></i>
                        </button>
                        <button id="closeChatBtn" class="text-white hover:text-gray-200">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>
                
                <div id="chatType" class="bg-primary bg-opacity-10 dark:bg-opacity-20 px-4 py-1 text-xs text-primary font-medium">
                    Employee Support
                </div>
                
                <div id="chatMessages" class="flex-1 p-4 overflow-y-auto scrollbar-thin space-y-4">
                    <!-- Welcome message -->
                    <div class="flex">
                        <div class="chat-bubble-bot bg-gray-100 dark:bg-gray-800 p-3 rounded-lg max-w-[80%]">
                            <p>👋 Hello! I'm your SmartHR Assistant. How can I help you today?</p>
                        </div>
                    </div>
                    
                    <!-- Chat messages will be added here -->
                </div>
                
                <div class="p-4 border-t border-gray-200 dark:border-gray-700">
                    <div class="flex space-x-2">
                        <input type="text" id="chatInput" class="flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-base bg-white dark:bg-dark-bg text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary" placeholder="Type your message...">
                        <button id="sendChatBtn" class="px-4 py-2 bg-primary text-white rounded-md">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Minimized Chat -->
        <div id="minimizedChat" class="fixed bottom-4 right-4 z-50 hidden">
            <button id="openMinimizedChat" class="w-14 h-14 bg-primary text-white rounded-full shadow-lg flex items-center justify-center">
                <i class="fas fa-headset text-xl"></i>
            </button>
            <span class="absolute top-0 right-0 w-3 h-3 bg-green-500 rounded-full"></span>
        </div>
    </div>

    <script>
        // DOM Elements
        const mobileSidebarToggle = document.getElementById('mobileSidebarToggle');
        const mobileSidebar = document.getElementById('mobileSidebar');
        const mobileSidebarBackdrop = document.getElementById('mobileSidebarBackdrop');
        const mobileSidebarContent = document.getElementById('mobileSidebarContent');
        const darkModeToggle = document.getElementById('darkModeToggle');
        const goalInput = document.getElementById('goalInput');
        const analyzeGoalBtn = document.getElementById('analyzeGoalBtn');
        const goalAnalysisResult = document.getElementById('goalAnalysisResult');
        const goalAnalysisContent = document.getElementById('goalAnalysisContent');
        const supportChatContainer = document.getElementById('supportChatContainer');
        const openSupportChatBtn = document.getElementById('openSupportChatBtn');
        const openMobileSupportChatBtn = document.getElementById('openMobileSupportChatBtn');
        const minimizeChatBtn = document.getElementById('minimizeChatBtn');
        const closeChatBtn = document.getElementById('closeChatBtn');
        const chatInput = document.getElementById('chatInput');
        const sendChatBtn = document.getElementById('sendChatBtn');
        const chatMessages = document.getElementById('chatMessages');
        const minimizedChat = document.getElementById('minimizedChat');
        const openMinimizedChat = document.getElementById('openMinimizedChat');
        const switchToEmployerChat = document.getElementById('switchToEmployerChat');
        const chatType = document.getElementById('chatType');
        
        // Mobile Sidebar Toggle
        mobileSidebarToggle.addEventListener('click', () => {
            mobileSidebar.classList.remove('hidden');
            mobileSidebarContent.classList.remove('-translate-x-full');
        });
        
        mobileSidebarBackdrop.addEventListener('click', () => {
            mobileSidebarContent.classList.add('-translate-x-full');
            setTimeout(() => {
                mobileSidebar.classList.add('hidden');
            }, 300);
        });
        
        // Dark Mode Toggle
        darkModeToggle.addEventListener('click', () => {
            document.documentElement.classList.toggle('dark');
        });
        
        // Goal Analysis
        analyzeGoalBtn.addEventListener('click', () => {
            const goal = goalInput.value.trim();
            
            if (!goal) {
                return;
            }
            
            // Show loading state
            goalAnalysisResult.classList.remove('hidden');
            goalAnalysisContent.innerHTML = `
                <div class="flex items-center justify-center py-4">
                    <div class="animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"></div>
                </div>
                <p class="text-center text-gray-600 dark:text-gray-400">Analyzing your goal against SMART criteria...</p>
            `;
            
            // Simulate analysis delay
            setTimeout(() => {
                let analysis;
                
                if (goal.toLowerCase().includes('certification') || goal.toLowerCase().includes('complete') || goal.toLowerCase().includes('by')) {
                    // This is already a SMART goal
                    analysis = generateSmartAnalysis(goal);
                } else {
                    // This needs improvement
                    analysis = generateNonSmartAnalysis(goal);
                }
                
                // Display results
                goalAnalysisContent.innerHTML = analysis;
            }, 1500);
        });
        
        // Generate analysis for SMART goals
        function generateSmartAnalysis(goal) {
            return `
                <div class="space-y-4">
                    <div class="p-3 bg-green-100 dark:bg-green-900 dark:bg-opacity-20 rounded-lg border border-green-200 dark:border-green-800">
                        <p class="font-medium text-green-800 dark:text-green-300">
                            <i class="fas fa-check-circle mr-2"></i>
                            This goal meets all SMART criteria!
                        </p>
                    </div>
                    
                    <h4 class="font-medium">Evaluation of SMART Criteria:</h4>
                    <ul class="space-y-2">
                        <li class="flex items-start">
                            <span class="text-green-500 mr-2"><i class="fas fa-check"></i></span>
                            <div>
                                <span class="font-medium">Specific:</span> 
                                Your goal clearly defines what needs to be accomplished.
                            </div>
                        </li>
                        <li class="flex items-start">
                            <span class="text-green-500 mr-2"><i class="fas fa-check"></i></span>
                            <div>
                                <span class="font-medium">Measurable:</span> 
                                The completion can be clearly measured and verified.
                            </div>
                        </li>
                        <li class="flex items-start">
                            <span class="text-green-500 mr-2"><i class="fas fa-check"></i></span>
                            <div>
                                <span class="font-medium">Achievable:</span> 
                                This appears to be a realistic goal with your skills and resources.
                            </div>
                        </li>
                        <li class="flex items-start">
                            <span class="text-green-500 mr-2"><i class="fas fa-check"></i></span>
                            <div>
                                <span class="font-medium">Relevant:</span> 
                                The goal aligns with your role and career development.
                            </div>
                        </li>
                        <li class="flex items-start">
                            <span class="text-green-500 mr-2"><i class="fas fa-check"></i></span>
                            <div>
                                <span class="font-medium">Time-bound:</span> 
                                You've included a clear deadline for completion.
                            </div>
                        </li>
                    </ul>
                    
                    <p class="font-medium text-green-600 dark:text-green-400">
                        Excellent work on crafting a well-defined SMART goal! This structured approach will help ensure focused effort and clear expectations.
                    </p>
                </div>
            `;
        }
        
        // Generate analysis for non-SMART goals
        function generateNonSmartAnalysis(goal) {
            return `
                <div class="space-y-4">
                    <div class="p-3 bg-yellow-100 dark:bg-yellow-900 dark:bg-opacity-20 rounded-lg border border-yellow-200 dark:border-yellow-800">
                        <p class="font-medium text-yellow-800 dark:text-yellow-300">
                            <i class="fas fa-exclamation-circle mr-2"></i>
                            This goal needs some refinement to fully meet the SMART criteria.
                        </p>
                    </div>
                    
                    <h4 class="font-medium">Evaluation of SMART Criteria:</h4>
                    <ul class="space-y-2">
                        <li class="flex items-start">
                            <span class="text-red-500 mr-2"><i class="fas fa-times"></i></span>
                            <div>
                                <span class="font-medium">Specific:</span> 
                                Your goal lacks clarity about what exactly needs to be accomplished.
                            </div>
                        </li>
                        <li class="flex items-start">
                            <span class="text-red-500 mr-2"><i class="fas fa-times"></i></span>
                            <div>
                                <span class="font-medium">Measurable:</span> 
                                There are no clear metrics to determine success or completion.
                            </div>
                        </li>
                        <li class="flex items-start">
                            <span class="text-green-500 mr-2"><i class="fas fa-check"></i></span>
                            <div>
                                <span class="font-medium">Achievable:</span> 
                                The goal appears generally achievable.
                            </div>
                        </li>
                        <li class="flex items-start">
                            <span class="text-green-500 mr-2"><i class="fas fa-check"></i></span>
                            <div>
                                <span class="font-medium">Relevant:</span> 
                                This aligns with your professional responsibilities.
                            </div>
                        </li>
                        <li class="flex items-start">
                            <span class="text-red-500 mr-2"><i class="fas fa-times"></i></span>
                            <div>
                                <span class="font-medium">Time-bound:</span> 
                                No specific timeframe or deadline is provided.
                            </div>
                        </li>
                    </ul>
                    
                    <h4 class="font-medium">Suggestions for Improvement:</h4>
                    <ul class="space-y-1 list-disc list-inside">
                        <li>Be more specific about exactly what you want to accomplish</li>
                        <li>Add measurable metrics to track progress and success</li>
                        <li>Include a specific deadline for completion</li>
                    </ul>
                    
                    <p class="italic border-l-4 border-primary pl-3 py-1">
                        Improved example: "${goal.replace(/\.$/, '')} by implementing [specific actions], resulting in [measurable outcome] by [specific date]."
                    </p>
                </div>
            `;
        }
        
        // Chat functionality
        let isEmployerChat = false;
        
        // Open chat
        function openChat() {
            supportChatContainer.classList.remove('hidden');
            minimizedChat.classList.add('hidden');
        }
        
        // Close chat
        function closeChat() {
            supportChatContainer.classList.add('hidden');
            minimizedChat.classList.add('hidden');
        }
        
        // Minimize chat
        function minimizeChat() {
            supportChatContainer.classList.add('hidden');
            minimizedChat.classList.remove('hidden');
        }
        
        openSupportChatBtn.addEventListener('click', openChat);
        openMobileSupportChatBtn.addEventListener('click', () => {
            openChat();
            // Close mobile sidebar
            mobileSidebarContent.classList.add('-translate-x-full');
            setTimeout(() => {
                mobileSidebar.classList.add('hidden');
            }, 300);
        });
        closeChatBtn.addEventListener('click', closeChat);
        minimizeChatBtn.addEventListener('click', minimizeChat);
        openMinimizedChat.addEventListener('click', openChat);
        
        // Switch between employee and employer chat
        switchToEmployerChat.addEventListener('click', () => {
            isEmployerChat = !isEmployerChat;
            
            if (isEmployerChat) {
                chatType.textContent = 'Employer Communication';
                chatType.classList.add('bg-warning-50', 'text-warning');
                chatType.classList.remove('bg-primary-50', 'text-primary');
                // Clear chat and add employer welcome message
                chatMessages.innerHTML = `
                    <div class="flex">
                        <div class="chat-bubble-bot bg-gray-100 dark:bg-gray-800 p-3 rounded-lg max-w-[80%]">
                            <p>👋 Hello! You are now communicating directly with your employer. Please share any concerns or questions you have.</p>
                        </div>
                    </div>
                `;
            } else {
                chatType.textContent = 'Employee Support';
                chatType.classList.add('bg-primary-50', 'text-primary');
                chatType.classList.remove('bg-warning-50', 'text-warning');
                // Clear chat and add assistant welcome message
                chatMessages.innerHTML = `
                    <div class="flex">
                        <div class="chat-bubble-bot bg-gray-100 dark:bg-gray-800 p-3 rounded-lg max-w-[80%]">
                            <p>👋 Hello! I'm your SmartHR Assistant. How can I help you today?</p>
                        </div>
                    </div>
                `;
            }
        });
        
        // Send message in chat
        sendChatBtn.addEventListener('click', sendMessage);
        chatInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });
        
        function sendMessage() {
            const message = chatInput.value.trim();
            
            if (!message) {
                return;
            }
            
            // Add user message to chat
            chatMessages.innerHTML += `
                <div class="flex justify-end">
                    <div class="chat-bubble-user bg-primary text-white p-3 rounded-lg max-w-[80%]">
                        <p>${message}</p>
                    </div>
                </div>
            `;
            
            // Clear input
            chatInput.value = '';
            
            // Scroll to bottom
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            // Add typing indicator
            chatMessages.innerHTML += `
                <div class="flex typing-indicator">
                    <div class="chat-bubble-bot bg-gray-100 dark:bg-gray-800 p-3 rounded-lg">
                        <div class="typing-animation flex space-x-1">
                            <span class="w-2 h-2 bg-gray-500 dark:bg-gray-400 rounded-full"></span>
                            <span class="w-2 h-2 bg-gray-500 dark:bg-gray-400 rounded-full"></span>
                            <span class="w-2 h-2 bg-gray-500 dark:bg-gray-400 rounded-full"></span>
                        </div>
                    </div>
                </div>
            `;
            
            // Scroll to bottom
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            // Simulate response after delay
            setTimeout(() => {
                // Remove typing indicator
                const typingIndicator = document.querySelector('.typing-indicator');
                if (typingIndicator) {
                    typingIndicator.remove();
                }
                
                let responseText;
                
                if (isEmployerChat) {
                    // Employer responses
                    if (message.toLowerCase().includes('deadline') || message.toLowerCase().includes('extension')) {
                        responseText = "Thanks for reaching out about the deadline. I understand your concern. Let's schedule a quick call tomorrow to discuss the timeline and any adjustments needed.";
                    } else if (message.toLowerCase().includes('workload') || message.toLowerCase().includes('stress') || message.toLowerCase().includes('pressure')) {
                        responseText = "I appreciate you sharing this with me. Your wellbeing is important. Let's review your current workload and priorities during our next 1:1 meeting. In the meantime, please feel free to use one of our mental health resources.";
                    } else if (message.toLowerCase().includes('feedback') || message.toLowerCase().includes('review')) {
                        responseText = "Thank you for requesting feedback. I'll prepare some specific observations for our next meeting. Your proactive approach to seeking input is appreciated.";
                    } else {
                        responseText = "Thank you for your message. I've received it and will get back to you shortly with more specific information. Feel free to add any additional details that might help me address your concerns.";
                    }
                } else {
                    // AI assistant responses
                    if (message.toLowerCase().includes('policy') || message.toLowerCase().includes('vacation') || message.toLowerCase().includes('time off')) {
                        responseText = "Our vacation policy provides 20 days of paid time off annually, accrued at 1.67 days per month. To request time off, use the 'Schedule' section in the sidebar and click on 'Request Time Off'. Your manager will receive a notification to approve your request.";
                    } else if (message.toLowerCase().includes('benefit') || message.toLowerCase().includes('insurance') || message.toLowerCase().includes('healthcare')) {
                        responseText = "SmartHR offers comprehensive benefits including medical, dental, and vision insurance. The open enrollment period is from October 15-November 15. You can view and update your selections in the Benefits portal under Settings.";
                    } else if (message.toLowerCase().includes('training') || message.toLowerCase().includes('learning') || message.toLowerCase().includes('course')) {
                        responseText = "We offer various training programs through our Learning Management System. Go to the Development section to browse available courses. Each employee has a $1,000 annual learning budget for external courses. Submit requests through the Professional Development form.";
                    } else if (message.toLowerCase().includes('goal') || message.toLowerCase().includes('performance') || message.toLowerCase().includes('review')) {
                        responseText = "Performance reviews are conducted quarterly with a comprehensive annual review in December. You can set and track goals using the Performance module. I recommend using the SMART goal framework (Specific, Measurable, Achievable, Relevant, Time-bound) for best results.";
                    } else if (message.toLowerCase().includes('stress') || message.toLowerCase().includes('mental') || message.toLowerCase().includes('wellness')) {
                        responseText = "I'm sorry to hear you're feeling stressed. We offer several wellness resources including free access to the Calm app, weekly virtual yoga sessions, and confidential counseling through our Employee Assistance Program. Would you like information on any of these specific resources?";
                    } else {
                        responseText = "Thank you for your question. I'd be happy to help with that. Could you provide a few more details so I can give you the most accurate information? Alternatively, you can browse our knowledge base in the Help Center for immediate answers to common questions.";
                    }
                }
                
                // Add response to chat
                chatMessages.innerHTML += `
                    <div class="flex">
                        <div class="chat-bubble-bot bg-gray-100 dark:bg-gray-800 p-3 rounded-lg max-w-[80%]">
                            <p>${responseText}</p>
                        </div>
                    </div>
                `;
                
                // Scroll to bottom
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }, 1500);
        }
        
        // Handle automatic chat opening for demo
        setTimeout(() => {
            minimizedChat.classList.remove('hidden');
        }, 5000);
        
        // Poe API Function (note: this is just for UI simulation - it won't actually call Poe in this demo)
        async function callPoeAssistant(message) {
            // In a real implementation, this would use window.Poe.sendUserMessage
            console.log("Would call Poe with message:", message);
            
            // Simulate a response with a delay
            return new Promise((resolve) => {
                setTimeout(() => {
                    resolve({
                        success: true,
                        response: "This is a simulated Poe bot response for demo purposes."
                    });
                }, 1000);
            });
        }
    </script>
</body>
</html>
